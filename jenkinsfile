node() {
parameters {
        string(name: 'SCRIPT_PATH', defaultValue: '', description: 'Enter the complete script path in the repo. Eg. sh/f.sh')
        string(name: 'SCHEMA_NAME', defaultValue: '', description: 'Enter the schema name. Eg. MDN SCHEMA')
        string(name: 'CRON_EXPRESSION', defaultValue: '', description: 'Enter the time at which to run. Eg. everyday 8:30')
    }
    
  currentBuild.result = "SUCCESS"
  try {
        stage 'Checkout'
                checkout scm
    
        stage 'Running Script'
                sh '''
                      echo ${WORKSPACE}
                      chmod +x ${WORKSPACE}/${SCRIPT_PATH}
                      ./${WORKSPACE}/${SCRIPT_PATH} ${SCHEMA_NAME} ${CRON_EXPRESSION}
                   '''
                    
  }
  catch(err) {
      currentBuild.result = "FAILURE"
      throw err
  }
}
